import{f as d,b as u,h as m}from"./assets/catalog-PQ8zIsRn.js";import"./assets/scroll-up-Clndop_d.js";const n=document.querySelector("#trailerModal"),i=document.querySelector("#trailerIframe"),h=n.querySelectorAll("[data-close]");function y(e){i.src=`https://www.youtube.com/embed/${e}?autoplay=1`,n.classList.remove("is-hidden"),document.body.style.overflow="hidden"}function s(){i.src="",n.classList.add("is-hidden"),document.body.style.overflow=""}document.addEventListener("keydown",e=>{e.key==="Escape"&&s()});h.forEach(e=>{e.addEventListener("click",s)});const f=document.querySelector(".catalog-hero"),v=document.querySelector(".catalog-hero-title"),p=document.querySelector(".catalog-hero-overview"),g=document.querySelector(".catalog-hero-rating"),b=document.querySelector(".catalog-hero-btn.trailer"),M=document.querySelector(".catalog-hero-btn.details");let r=null,a=null;async function S(){try{const o=(await d()).results;if(!o||o.length===0)return;const t=o[Math.floor(Math.random()*o.length)];r=t.id,a=t;const l=t.backdrop_path||t.poster_path,c=l?`https://image.tmdb.org/t/p/original${l}`:"";c&&f.style.setProperty("--hero-bg",`url(${c})`),v.textContent=t.title||t.name||"No title",p.textContent=t.overview||"No description available",g.innerHTML=w(t.vote_average)}catch(e){console.error("Hero verisi alınamadı:",e)}}function w(e){const o=Math.floor(e/2),t=e%2>=1?"½":"";return"★".repeat(o)+(t?"★":"")+"☆".repeat(5-o-(t?1:0))}async function k(){if(r)try{const o=(await u(r)).results.find(t=>t.type==="Trailer"&&t.site==="YouTube");o?y(o.key):alert("Trailer not found.")}catch(e){console.error("Trailer yüklenemedi:",e)}}b.addEventListener("click",k);M.addEventListener("click",()=>{a&&m(a)});S();
//# sourceMappingURL=catalog.js.map
