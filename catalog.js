import{f as s,c as d}from"./assets/catalog-CcrFH8Pk.js";import"./assets/scroll-up-Clndop_d.js";const a=document.querySelector("#trailerModal"),l=document.querySelector("#trailerIframe"),u=a.querySelectorAll("[data-close]");function m(e){l.src=`https://www.youtube.com/embed/${e}?autoplay=1`,a.classList.remove("is-hidden"),document.body.style.overflow="hidden"}function i(){l.src="",a.classList.add("is-hidden"),document.body.style.overflow=""}document.addEventListener("keydown",e=>{e.key==="Escape"&&i()});u.forEach(e=>{e.addEventListener("click",i)});const h=document.querySelector(".catalog-hero"),y=document.querySelector(".catalog-hero-title"),f=document.querySelector(".catalog-hero-overview"),v=document.querySelector(".catalog-hero-rating"),p=document.querySelector(".catalog-hero-btn.trailer"),g=document.querySelector(".catalog-hero-btn.details");let r=null;async function b(){try{const o=(await s()).results;if(!o||o.length===0)return;const t=o[Math.floor(Math.random()*o.length)];r=t.id;const n=t.backdrop_path||t.poster_path,c=n?`https://image.tmdb.org/t/p/original${n}`:"";c&&h.style.setProperty("--hero-bg",`url(${c})`),y.textContent=t.title||t.name||"No title",f.textContent=t.overview||"No description available",v.innerHTML=S(t.vote_average)}catch(e){console.error("Hero verisi alınamadı:",e)}}function S(e){const o=Math.floor(e/2),t=e%2>=1?"½":"";return"★".repeat(o)+(t?"★":"")+"☆".repeat(5-o-(t?1:0))}async function M(){if(r)try{const o=(await d(r)).results.find(t=>t.type==="Trailer"&&t.site==="YouTube");o?m(o.key):alert("Trailer not found.")}catch(e){console.error("Trailer yüklenemedi:",e)}}p.addEventListener("click",M);g.addEventListener("click",()=>{alert("More details clicked!")});b();
//# sourceMappingURL=catalog.js.map
